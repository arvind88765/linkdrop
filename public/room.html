<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>LinkDrop • Room</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/style.css" />
</head>
<body class="page-room">
  <div class="status-bar">
    <div id="roomLabel">Room — ••••••</div>
    <div class="status-actions">
      <button class="ghost" onclick="copyLink()" title="Copy link">🔗 Copy</button>
      <button class="ghost" onclick="newRoom()" title="New room">↻ New</button>
    </div>
  </div>

  <!-- Side-by-side desktop / stacked mobile -->
  <main class="room-stage">
    <!-- YOU -->
    <section class="video-box" id="youBox">
      <video id="localVideo" autoplay playsinline muted></video>
      <div class="v-label">You</div>
      <button class="v-action expand" title="Fullscreen you" data-target="you">⤢</button>
      <button class="v-action swap" title="Swap videos" data-action="swap">⇆</button>
    </section>

    <!-- PEER -->
    <section class="video-box" id="themBox">
      <video id="remoteVideo" autoplay playsinline></video>
      <div class="v-label">Peer</div>
      <button class="v-action expand" title="Fullscreen peer" data-target="them">⤢</button>
    </section>
  </main>

  <!-- Host approval popup -->
  <div id="approvalPopup" class="popup" style="display:none;">
    <p>Incoming join request — allow?</p>
    <button id="acceptBtn">Accept</button>
    <button id="rejectBtn">Reject</button>
  </div>

  <!-- Floating call controls -->
  <div class="controls" role="toolbar" aria-label="Call controls">
    <button id="btnAudio" title="Toggle mic" onclick="toggleAudio()">🎙️</button>
    <button id="btnVideo" title="Toggle camera" onclick="toggleVideo()">📷</button>
    <button id="btnPIP"   title="Picture-in-Picture" onclick="pip()">▣</button>
    <button id="btnFS"    title="Fullscreen page" onclick="fullscreenPage()">⤢</button>
  </div>

  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="/script.js"></script>
</body>
</html>
